import{IS_HIDPI}from"./constants.js";import{getRandomNum}from"./utils.js";class Cloud{constructor(canvas,spritePos,containerWidth){this.canvas=canvas,this.canvasCtx=this.canvas.getContext("2d"),this.spritePos=spritePos,this.containerWidth=containerWidth,this.xPos=containerWidth,this.yPos=0,this.remove=!1,this.gap=getRandomNum(Cloud.config.MIN_CLOUD_GAP,Cloud.config.MAX_CLOUD_GAP),this.init()}init(){this.yPos=getRandomNum(Cloud.config.MAX_SKY_LEVEL,Cloud.config.MIN_SKY_LEVEL),this.draw()}draw(){this.canvasCtx.save();let sourceWidth=Cloud.config.WIDTH,sourceHeight=Cloud.config.HEIGHT;var outputWidth=sourceWidth,outputHeight=sourceHeight;IS_HIDPI&&(sourceWidth*=2,sourceHeight*=2),this.canvasCtx.drawImage(window.Runner.imageSprite,this.spritePos.x,this.spritePos.y,sourceWidth,sourceHeight,this.xPos,this.yPos,outputWidth,outputHeight),this.canvasCtx.restore()}update(speed){this.remove||(this.xPos-=Math.ceil(speed),this.draw(),this.isVisible())||(this.remove=!0)}isVisible(){return 0<this.xPos+Cloud.config.WIDTH}}Cloud.config={HEIGHT:14,MAX_CLOUD_GAP:400,MAX_SKY_LEVEL:30,MIN_CLOUD_GAP:100,MIN_SKY_LEVEL:71,WIDTH:46};export{Cloud};